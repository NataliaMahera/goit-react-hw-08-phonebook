{"version":3,"file":"static/js/268.8a49f061.chunk.js","mappings":"oMACA,GAAiB,E,2BCkDjB,EA9CkB,WAChB,IAAMA,GAAWC,EAAAA,EAAAA,MAoBjB,OACEC,EAAAA,EAAAA,MAAA,QAAMC,SAnBc,SAAAC,GACpBA,EAAEC,iBAEF,IAAMC,EAAOF,EAAEG,OAITC,EAAW,CACfC,MAJYH,EAAKI,SAASC,UAAUC,MAKpCC,SAJeP,EAAKI,SAASI,aAAaF,OAO5CG,QAAQC,IAAI,cAAeR,GAE3BR,GAASiB,EAAAA,EAAAA,IAAWT,IACpBF,EAAKY,OACP,EAGiCC,UAAWC,EAAAA,KAASC,SAAA,EACjDnB,EAAAA,EAAAA,MAAA,SAAOiB,UAAWC,EAAAA,MAAUC,SAAA,EAC1BC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,WACHC,EAAAA,EAAAA,KAAA,SAAOC,KAAK,QAAQC,KAAK,YAAYL,UAAWC,EAAAA,MAAWK,UAAQ,QAGrEvB,EAAAA,EAAAA,MAAA,SAAOiB,UAAWC,EAAAA,MAAUC,SAAA,EAC1BC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,cACHC,EAAAA,EAAAA,KAAA,SACEC,KAAK,WACLC,KAAK,eACLL,UAAWC,EAAAA,MACXM,UAAW,EACXD,UAAQ,QAIZH,EAAAA,EAAAA,KAAA,UAAQC,KAAK,SAASJ,UAAWC,EAAAA,OAAWC,SAAC,cAKnD,EC1CA,EAJkB,WAChB,OAAOC,EAAAA,EAAAA,KAACK,EAAS,GACnB,C,gICFaC,EAAWC,EAAAA,EAAAA,OAAa,CACnCC,QAAS,2CAGLC,EAAW,SAAAC,GACfJ,EAASK,SAASC,QAAQC,OAAOC,cAAa,UAAAC,OAAaL,EAC7D,EAEaM,GAAgBC,EAAAA,EAAAA,kBAC3B,gBAAe,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MACf,SAAAC,EAAOnC,EAAUoC,GAAQ,IAAAC,EAAAC,EAAA,OAAAJ,IAAAA,MAAA,SAAAK,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEErB,EAASsB,KAAK,gBAAiB1C,GAAU,KAAD,EAE1C,OAF0CqC,EAAAE,EAAAI,KAAvDL,EAAID,EAAJC,KACR/B,QAAQC,IAAI8B,GACZf,EAASe,EAAKd,OAAOe,EAAAK,OAAA,SACdN,GAAI,eAAAC,EAAAC,KAAA,GAAAD,EAAAM,GAAAN,EAAA,SAAAA,EAAAK,OAAA,SAEJR,EAASU,gBAAgBP,EAAAM,GAAME,UAAQ,yBAAAR,EAAAS,OAAA,GAAAb,EAAA,mBAEjD,gBAAAc,EAAAC,GAAA,OAAAlB,EAAAmB,MAAA,KAAAC,UAAA,EAVc,IAaJ3C,GAAasB,EAAAA,EAAAA,kBACxB,aAAY,eAAAsB,GAAApB,EAAAA,EAAAA,GAAAC,IAAAA,MACZ,SAAAoB,EAAOtD,EAAUoC,GAAQ,IAAAmB,EAAAjB,EAAA,OAAAJ,IAAAA,MAAA,SAAAsB,GAAA,cAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,cAAAe,EAAAhB,KAAA,EAAAgB,EAAAf,KAAA,EAEEpB,EAAAA,EAAAA,KAAW,eAAgBrB,GAAU,KAAD,EACtC,OADsCuD,EAAAC,EAAAb,KAAnDL,EAAIiB,EAAJjB,KACRf,EAASe,EAAKd,OAAOgC,EAAAZ,OAAA,SACdN,GAAI,cAAAkB,EAAAhB,KAAA,EAAAgB,EAAAX,GAAAW,EAAA,SAAAA,EAAAZ,OAAA,SAEJR,EAASU,gBAAgBU,EAAAX,GAAME,UAAQ,yBAAAS,EAAAR,OAAA,GAAAM,EAAA,kBAEjD,gBAAAG,EAAAC,GAAA,OAAAL,EAAAF,MAAA,KAAAC,UAAA,EATW,G","sources":["components/LoginForm/LoginForm.module.css","components/LoginForm/LoginForm.jsx","pages/LoginPage/LoginPage.jsx","redux/auth/operations.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {};","import React from 'react';\nimport css from './LoginForm.module.css';\nimport { useDispatch } from 'react-redux';\nimport { loginThunk } from 'redux/auth/operations';\n\nconst LoginForm = () => {\n  const dispatch = useDispatch();\n\n  const onLoginSubmit = e => {\n    e.preventDefault();\n\n    const form = e.target;\n    const email = form.elements.userEmail.value;\n    const password = form.elements.userPassword.value;\n\n    const formData = {\n      email,\n      password,\n    };\n\n    console.log('data login ', formData);\n\n    dispatch(loginThunk(formData));\n    form.reset();\n  };\n\n  return (\n    <form onSubmit={onLoginSubmit} className={css.form}>\n      <label className={css.label}>\n        <p>Email</p>\n        <input type=\"email\" name=\"userEmail\" className={css.input} required />\n      </label>\n\n      <label className={css.label}>\n        <p>Password</p>\n        <input\n          type=\"password\"\n          name=\"userPassword\"\n          className={css.input}\n          minLength={7}\n          required\n        />\n      </label>\n\n      <button type=\"submit\" className={css.addBtn}>\n        Sign in\n      </button>\n    </form>\n  );\n};\n\nexport default LoginForm;\n","import React from 'react';\nimport LoginForm from 'components/LoginForm/LoginForm';\n\nconst LoginPage = () => {\n  return <LoginForm />;\n};\n\nexport default LoginPage;\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nexport const instance = axios.create({\n  baseURL: 'https://connections-api.herokuapp.com/',\n});\n\nconst setToken = token => {\n  instance.defaults.headers.common.Authorization = `Bearer ${token}`;\n};\n\nexport const registerThunk = createAsyncThunk(\n  'auth/register',\n  async (formData, thunkApi) => {\n    try {\n      const { data } = await instance.post('/users/signup', formData);\n      console.log(data);\n      setToken(data.token);\n      return data;\n    } catch (error) {\n      return thunkApi.rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const loginThunk = createAsyncThunk(\n  'auth/login',\n  async (formData, thunkApi) => {\n    try {\n      const { data } = await axios.post('/users/login', formData);\n      setToken(data.token);\n      return data;\n    } catch (error) {\n      return thunkApi.rejectWithValue(error.message);\n    }\n  }\n);\n"],"names":["dispatch","useDispatch","_jsxs","onSubmit","e","preventDefault","form","target","formData","email","elements","userEmail","value","password","userPassword","console","log","loginThunk","reset","className","css","children","_jsx","type","name","required","minLength","LoginForm","instance","axios","baseURL","setToken","token","defaults","headers","common","Authorization","concat","registerThunk","createAsyncThunk","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","thunkApi","_yield$instance$post","data","_context","prev","next","post","sent","abrupt","t0","rejectWithValue","message","stop","_x","_x2","apply","arguments","_ref2","_callee2","_yield$axios$post","_context2","_x3","_x4"],"sourceRoot":""}