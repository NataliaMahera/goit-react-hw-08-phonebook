{"version":3,"file":"static/js/488.e6d4d8a3.chunk.js","mappings":"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","sources":["components/RegisterForm/RegisterForm.module.css","components/RegisterForm/RegisterForm.jsx","pages/RegisterPage/RegisterPage.jsx","redux/auth/operations.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {};","import { useDispatch } from 'react-redux';\nimport css from './RegisterForm.module.css';\nimport { registerThunk } from 'redux/auth/operations';\n\nconst RegisterForm = () => {\n  const dispatch = useDispatch();\n\n  const onRegisterSubmit = e => {\n    e.preventDefault();\n\n    const form = e.target;\n    const name = form.elements.userName.value;\n    const email = form.elements.userEmail.value;\n    const password = form.elements.userPassword.value;\n\n    const formData = {\n      name,\n      email,\n      password,\n    };\n\n    console.log('data registration ', formData);\n\n    dispatch(registerThunk(formData));\n    form.reset();\n  };\n\n  return (\n    <form onSubmit={onRegisterSubmit} className={css.form}>\n      <label className={css.label}>\n        <p>Name</p>\n        <input\n          type=\"text\"\n          name=\"userName\"\n          className={css.input}\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' \\-][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          required\n        />\n      </label>\n\n      <label className={css.label}>\n        <p>Email</p>\n        <input type=\"email\" name=\"userEmail\" className={css.input} required />\n      </label>\n\n      <label className={css.label}>\n        <p>Password</p>\n        <input\n          type=\"password\"\n          name=\"userPassword\"\n          className={css.input}\n          required\n        />\n      </label>\n\n      <button type=\"submit\" className={css.addBtn}>\n        Sign up\n      </button>\n    </form>\n  );\n};\n\nexport default RegisterForm;\n","import RegisterForm from 'components/RegisterForm/RegisterForm';\nimport React from 'react';\n\nconst RegisterPage = () => {\n  return <RegisterForm />;\n};\n\nexport default RegisterPage;\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nexport const instance = axios.create({\n  baseURL: 'https://connections-api.herokuapp.com/',\n});\n\nconst setToken = token => {\n  instance.defaults.headers.common.Authorization = `Bearer ${token}`;\n};\n\nexport const registerThunk = createAsyncThunk(\n  'auth/register',\n  async (formData, thunkApi) => {\n    try {\n      const { data } = await instance.post('/users/signup', formData);\n      console.log(data);\n      setToken(data.token);\n      return data;\n    } catch (error) {\n      return thunkApi.rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const loginThunk = createAsyncThunk(\n  'auth/login',\n  async (formData, thunkApi) => {\n    try {\n      const { data } = await axios.post('/users/login', formData);\n      setToken(data.token);\n      return data;\n    } catch (error) {\n      return thunkApi.rejectWithValue(error.message);\n    }\n  }\n);\n"],"names":["dispatch","useDispatch","_jsxs","onSubmit","e","preventDefault","form","target","formData","name","elements","userName","value","email","userEmail","password","userPassword","console","log","registerThunk","reset","className","css","children","_jsx","type","pattern","required","RegisterForm","instance","axios","baseURL","setToken","token","defaults","headers","common","Authorization","concat","createAsyncThunk","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","thunkApi","_yield$instance$post","data","_context","prev","next","post","sent","abrupt","t0","rejectWithValue","message","stop","_x","_x2","apply","arguments","loginThunk","_ref2","_callee2","_yield$axios$post","_context2","_x3","_x4"],"sourceRoot":""}